<!-- Comments Form -->
<h2 class="d-inline-block">Comments</h2>
<button type="submit" *ngIf="!showCommentForm" (click)="showCommentForm = !showCommentForm" class="btn btn-primary float-right">Add
  a comment</button>


<div *ngIf="showCommentForm" class="card my-4">
  <h5 class="card-header">Add a comment:</h5>
  <div class="card-body">
    <form [formGroup]="commentForm" (ngSubmit)="onSubmitCommentForm()">
      <div class="form-group">

        <label for="inputName">Your name</label>
        <input class="form-control" id="inputName" type="text" formControlName="author" />
      </div>
      <div class="form-group">
        <label for="inputComment">Comment</label>
        <textarea class="form-control" id="inputComment" type="text" formControlName="comment"
          [ngClass]="{ 'is-invalid': submitted && commentForm.controls.comment.errors }" rows="2"></textarea>
        <div class="invalid-feedback"
          *ngIf="submitted && commentForm.controls.comment.errors && commentForm.controls.comment.errors.required">
          Comment required
        </div>
      </div>
      <button type="submit" class="btn btn-primary">Envoyer</button>
    </form>
    <div *ngIf="sendError" class="mt-3 alert alert-danger">
      {{sendError}}
    </div>
  </div>
</div>

<!-- Single Comment -->
<div class="mt-3">
  <div *ngFor="let comment of comments" class="media mb-4">
    <img class="d-flex mr-3 rounded-circle" [src]="'../../../assets/authors/user.jpg'" alt="">
    <div class="media-body">
      <div>
        <h5 class="mt-0">{{comment.author}}</h5> <span class="text-muted ml-3">{{comment.date | date:'fullDate'}}</span>
      </div>
      <p>{{comment.comment}}</p>
    </div>
  </div>
</div>
